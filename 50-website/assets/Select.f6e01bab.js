import{d as _,r as v,w as y,p as C,a as O,b as S,c as p}from"./index.8145088f.js";import{i as D,o as b}from"./util.4e4b76c2.js";import{c as T}from"./classnames.cb3d719b.js";import{_ as V}from"./plugin-vue_export-helper.5a098b48.js";const f=new Map;let w;D||(b(document,"mousedown",e=>w=e),b(document,"mouseup",e=>{for(const{DocumentHandler:t}of f.values())t(e,w)}));const H=(e,t)=>{let i=[];return t.arg&&(Array.isArray(t.arg)?i=t.arg:i.push(t.arg)),(u,a)=>{const r=t.instance.popperRef,o=u.target,n=a.target,m=!t||!t.instance,c=!o||!n,l=e.contains(o)||e.contains(n),s=e===o,x=r&&(r.contains(o)||r.contains(n)),k=i.length&&(i.some(d=>d.contains&&(d==null?void 0:d.contains(o)))||i.indexOf(n)>-1);m||c||l||s||k||x||t.value()}},g=(e,t)=>{f.set(e,{DocumentHandler:H(e,t),bindingFn:t.value})},z={beforeMount(e,t){g(e,t)},updated(e,t){g(e,t)},unmounted(e){f.delete(e)}};var h={directive:"clickOutside",directiveOption:z},E=_({props:{placeholder:String,modelValue:String},directives:{[h.directive]:h.directiveOption},emits:["update:modelValue","on-change"],setup(e,{emit:t,slots:i}){const u="The select component should has 'mini-web-option' component as childs!";let a=[];if(i.default&&(a=i.default(),a.filter(s=>!s||s.type.toString()==="Symbol(Comment)").some(s=>s.type!=="mini-web-option")))return console.warn(u);const{placeholder:r}=e,o=v(!1),n=v(e.modelValue),m=()=>{o.value=!1},c={"mini-web-select-icon":!0,"mini-web-select-icon-down":!o.value,"mini-web-select-icon-up":o.value},l=()=>{o.value=!o.value};return y(()=>o.value,s=>{c["mini-web-select-icon-down"]=!o.value,c["mini-web-select-icon-up"]=o.value}),C("select-context",{emit:t,isDown:o,selectValue:n}),()=>O(p("div",{class:"mini-web-select"},[p("div",{class:"mini-web-select-title",placeholder:r,onClick:l},[n.value]),p("i",{class:T(c),onClick:l},null),p("div",{class:"mini-web-select-popper",style:{display:o.value?"block":"none"}},[a])]),[[S("click-outside"),m]])}});var M=V(E,[["__scopeId","data-v-929e765e"]]);export{M as default};
